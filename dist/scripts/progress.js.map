{"version":3,"sources":["../../scripts/progress.js"],"names":["ProgressBar","el","duration","start","$el","elapsed","render","$elapsed","querySelector","$duration","$progressBar","innerText","formatTime","html","innerHTML","intervalId","setInterval","update","bind","clearInterval","style","transform","reset","pause","time","min","parseInt","second"],"mappings":";;;;;;IAAMA,W;AACF,yBAAYC,EAAZ,EAAeC,QAAf,EAAyBC,KAAzB,EAA+B;AAAA;;AAC3B,aAAKC,GAAL,GAAWH,EAAX;AACA,aAAKI,OAAL,GAAe,CAAf;AACA,aAAKH,QAAL,GAAgBA,QAAhB;AACA,aAAKI,MAAL;AACA,aAAKC,QAAL,GAAgB,KAAKH,GAAL,CAASI,aAAT,CAAuB,UAAvB,CAAhB;AACA,aAAKC,SAAL,GAAiB,KAAKL,GAAL,CAASI,aAAT,CAAuB,WAAvB,CAAjB;AACA,aAAKE,YAAL,GAAoB,KAAKN,GAAL,CAASI,aAAT,CAAuB,oBAAvB,CAApB;AACA,aAAKD,QAAL,CAAcI,SAAd,GAA0B,KAAKC,UAAL,CAAgB,CAAhB,CAA1B;AACA,aAAKH,SAAL,CAAeE,SAAf,GAA2B,KAAKC,UAAL,CAAgB,KAAKV,QAArB,CAA3B;AACA,YAAGC,KAAH,EAAU,KAAKA,KAAL;AACb;;;;iCAEO;AACJ,gBAAIU,6MAAJ;AAIA,iBAAKT,GAAL,CAASU,SAAT,GAAqBD,IAArB;AACH;;;gCAEM;AACH,iBAAKE,UAAL,GAAkBC,YAAY,KAAKC,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAZ,EAAoC,EAApC,CAAlB;AACH;;;gCAEM;AACHC,0BAAc,KAAKJ,UAAnB;AACH;;;iCAEO;AACJ,iBAAKV,OAAL,IAAgB,IAAhB;AACA,iBAAKK,YAAL,CAAkBU,KAAlB,CAAwBC,SAAxB,oBAAkD,KAAKhB,OAAL,GAAe,KAAKH,QAApB,GAA+B,GAA/B,GAAoC,GAAtF;AACA,iBAAKK,QAAL,CAAcI,SAAd,GAA0B,KAAKC,UAAL,CAAgB,KAAKP,OAArB,CAA1B;AACA,gBAAG,KAAKA,OAAL,GAAe,KAAKH,QAAvB,EAAiC,KAAKoB,KAAL;AACpC;;;8BAEKpB,Q,EAAS;AACX,iBAAKqB,KAAL;AACA,iBAAKlB,OAAL,GAAe,CAAf;AACA,gBAAGH,QAAH,EAAa;AACT,qBAAKA,QAAL,GAAgBA,QAAhB;AACA,qBAAKO,SAAL,GAAiB,KAAKG,UAAL,CAAgB,KAAKV,QAArB,CAAjB;AACH;AACJ;;;mCAEUsB,I,EAAK;AACZ,gBAAIC,MAAMC,SAASF,OAAO,EAAhB,CAAV;AACA,gBAAIG,SAASH,OAAO,EAApB;AACA,gBAAGC,MAAM,EAAT,EAAaA,MAAM,MAAMA,GAAZ;AACb,gBAAGE,SAAS,EAAZ,EAAgBA,SAAS,MAAMA,MAAf;AAChB,mBAAUF,GAAV,SAAiBE,MAAjB;AACH","file":"progress.js","sourcesContent":["class ProgressBar{\r\n    constructor(el,duration, start){\r\n        this.$el = el\r\n        this.elapsed = 0\r\n        this.duration = duration\r\n        this.render()\r\n        this.$elapsed = this.$el.querySelector(\".elapsed\")\r\n        this.$duration = this.$el.querySelector(\".duration\")\r\n        this.$progressBar = this.$el.querySelector(\".progress-bar .bar\")\r\n        this.$elapsed.innerText = this.formatTime(0)\r\n        this.$duration.innerText = this.formatTime(this.duration)\r\n        if(start) this.start()\r\n    }\r\n\r\n    render(){\r\n        let html = `\r\n                <div class=\"progress-time elapsed\"></div>\r\n                <div class=\"progress-bar\"><p class=\"bar\"></p></div>\r\n                <div class=\"progress-time duration\"></div>`\r\n        this.$el.innerHTML = html\r\n    }\r\n    \r\n    start(){\r\n        this.intervalId = setInterval(this.update.bind(this), 50)\r\n    }\r\n\r\n    pause(){\r\n        clearInterval(this.intervalId)\r\n    }\r\n\r\n    update(){\r\n        this.elapsed += 0.05\r\n        this.$progressBar.style.transform = `translateX(${this.elapsed / this.duration * 100 -100}%)`\r\n        this.$elapsed.innerText = this.formatTime(this.elapsed)\r\n        if(this.elapsed > this.duration) this.reset()\r\n    }\r\n\r\n    reset(duration){\r\n        this.pause()\r\n        this.elapsed = 0\r\n        if(duration) {\r\n            this.duration = duration\r\n            this.$duration = this.formatTime(this.duration)\r\n        }\r\n    }\r\n\r\n    formatTime(time){\r\n        let min = parseInt(time / 60)\r\n        let second = time % 60\r\n        if(min < 10) min = '0' + min\r\n        if(second < 10) second = '0' + second\r\n        return `${min}:${second}`\r\n    }\r\n}"]}