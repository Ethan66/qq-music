{"version":3,"sources":["../../scripts/app.js"],"names":["fetch","then","res","json","render","renderSlider","data","slider","renderRadios","radioList","renderPlayLists","songList","renderRank","renderRankLists","topList","slides","map","link","slide","linkUrl","image","picUrl","Slider","el","document","querySelector","search","Search","radios","innerHTML","radio","Ftitle","join","playLists","playList","songListDesc","topLists","num","countNum","listenCount","integer","parseInt","decimal","topTitle","songname","singername","addEventListener","event","target","classList","add","remove"],"mappings":"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","file":"app.js","sourcesContent":["(function(){\r\n\r\n    fetch('json/rec.json')\r\n        .then(res => res.json())\r\n        .then(render)\r\n\r\n    function render(json){\r\n        renderSlider(json.data.slider)\r\n        renderRadios(json.data.radioList)\r\n        renderPlayLists(json.data.songList)\r\n    }\r\n\r\n    fetch('json/rank.json')\r\n        .then(res => res.json())\r\n        .then(renderRank)\r\n\r\n    function renderRank(json){\r\n        renderRankLists(json.data.topList)\r\n    }\r\n\r\n    function renderSlider(slides){\r\n        slides = slides.map(slide => ({link: slide.linkUrl, image: slide.picUrl}))\r\n        new Slider({\r\n            el: document.querySelector(\"#slider\"),\r\n            slides\r\n        })\r\n    }\r\n\r\n    let search = new Search(document.querySelector(\".search-view\"))\r\n\r\n    function renderRadios(radios){\r\n        document.querySelector(\".radios .list\").innerHTML = radios.map(radio =>\r\n        `<div class=\"list-item\">\r\n            <a href=\"\">\r\n                <div class=\"list-media\">\r\n                    <img class=\"lazyload\" data-src=\"${radio.picUrl}\" src=\"${radio.picUrl}\" />\r\n                    <span class=\"icon icon-play\"></span>\r\n                </div>\r\n                <div class=\"info\">\r\n                    <h3 class=\"title\">${radio.Ftitle}</h3>\r\n                </div>\r\n            </a>\r\n        </div>`).join(\"\")\r\n    }\r\n\r\n    function renderPlayLists(playLists){\r\n        document.querySelector(\".playLists .songList\").innerHTML = playLists.map(playList =>\r\n            `<div class=\"list-item\">\r\n            <a href=\"\">\r\n                <div class=\"list-media\">\r\n                    <img class=\"lazyload\" data-src=\"${playList.picUrl}\" src=\"${playList.picUrl}\" />\r\n                    <span class=\"icon icon-play\"></span>\r\n                </div>\r\n                <div class=\"info\">\r\n                    <h3 class=\"title\">${playList.songListDesc}</h3>\r\n                </div>\r\n            </a>\r\n        </div>`).join(\"\")\r\n    }\r\n\r\n    function renderRankLists(topLists){\r\n        document.querySelector(\".rank-view .list\").innerHTML = topLists.map(topList => {\r\n            let num,countNum = topList.listenCount\r\n            if(countNum / 10000 > 1){\r\n                let integer = parseInt(countNum / 10000)\r\n                let decimal = parseInt(countNum % 10000 / 1000)\r\n                num = integer + '.' + decimal + 'ä¸‡'\r\n            } else{\r\n\r\n            }\r\n            return `<li class=\"list-item\">\r\n                <div class=\"img\">\r\n                    <a href=\"\">\r\n                        <img class=\"lazyload\" data-src=\"${topList.picUrl}\" />\r\n                        <span class=\"listen-count\">\r\n                            <i class=\"icon\"></i>\r\n                            <span class=\"num\">${num}</span>\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n                <div class=\"text\">\r\n                    <h3>${topList.topTitle}</h3>\r\n                    <p>1 <span>${topList.songList[0].songname}</span> - ${topList.songList[0].singername}</p>\r\n                    <p>2 <span>${topList.songList[1].songname}</span> - ${topList.songList[1].singername}</p>\r\n                    <p>3 <span>${topList.songList[2].songname}</span> - ${topList.songList[2].singername}</p>\r\n                    <i class=\"arrow\"></i>\r\n                </div>\r\n            </li>`\r\n            }\r\n            ).join(\"\")\r\n    }\r\n\r\n    document.querySelector(\".playerEnter\").addEventListener(\"click\", (event) => {\r\n        let target = event.target\r\n        document.querySelector(\".content\").classList.add(\"hide\")\r\n        document.querySelector(\".player-container\").classList.remove(\"hide\")\r\n    })\r\n\r\n})()"]}