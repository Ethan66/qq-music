{"version":3,"sources":["../../scripts/app.js"],"names":["fetch","then","res","json","render","renderSlider","data","slider","renderRadios","radioList","renderPlayLists","songList","renderRank","renderRankLists","topList","lazyload","document","querySelectorAll","slides","map","link","slide","linkUrl","image","picUrl","Slider","el","querySelector","radios","innerHTML","radio","Ftitle","join","playLists","playList","songListDesc","topLists","num","countNum","listenCount","integer","parseInt","decimal","topTitle","songname","singername"],"mappings":";;AAAA,CAAC,YAAU;;AAEPA,UAAM,eAAN,EACKC,IADL,CACU;AAAA,eAAOC,IAAIC,IAAJ,EAAP;AAAA,KADV,EAEKF,IAFL,CAEUG,MAFV;;AAIA,aAASA,MAAT,CAAgBD,IAAhB,EAAqB;AACjBE,qBAAaF,KAAKG,IAAL,CAAUC,MAAvB;AACAC,qBAAaL,KAAKG,IAAL,CAAUG,SAAvB;AACAC,wBAAgBP,KAAKG,IAAL,CAAUK,QAA1B;AACH;;AAEDX,UAAM,gBAAN,EACKC,IADL,CACU;AAAA,eAAOC,IAAIC,IAAJ,EAAP;AAAA,KADV,EAEKF,IAFL,CAEUW,UAFV;;AAIA,aAASA,UAAT,CAAoBT,IAApB,EAAyB;AACrBU,wBAAgBV,KAAKG,IAAL,CAAUQ,OAA1B;AACAC,iBAASC,SAASC,gBAAT,CAA0B,WAA1B,CAAT;AAEH;;AAED,aAASZ,YAAT,CAAsBa,MAAtB,EAA6B;AACzBA,iBAASA,OAAOC,GAAP,CAAW;AAAA,mBAAU,EAACC,MAAMC,MAAMC,OAAb,EAAsBC,OAAOF,MAAMG,MAAnC,EAAV;AAAA,SAAX,CAAT;AACA,YAAIC,MAAJ,CAAW;AACPC,gBAAIV,SAASW,aAAT,CAAuB,SAAvB,CADG;AAEPT;AAFO,SAAX;AAIH;;AAED,aAASV,YAAT,CAAsBoB,MAAtB,EAA6B;AACzBZ,iBAASW,aAAT,CAAuB,eAAvB,EAAwCE,SAAxC,GAAoDD,OAAOT,GAAP,CAAW;AAAA,wKAIjBW,MAAMN,MAJW,eAIKM,MAAMN,MAJX,0KAQ/BM,MAAMC,MARyB;AAAA,SAAX,EAW3CC,IAX2C,CAWtC,EAXsC,CAApD;AAYH;;AAED,aAAStB,eAAT,CAAyBuB,SAAzB,EAAmC;AAC/BjB,iBAASW,aAAT,CAAuB,sBAAvB,EAA+CE,SAA/C,GAA2DI,UAAUd,GAAV,CAAc;AAAA,wKAI3Be,SAASV,MAJkB,eAIFU,SAASV,MAJP,0KAQzCU,SAASC,YARgC;AAAA,SAAd,EAWlDH,IAXkD,CAW7C,EAX6C,CAA3D;AAYH;;AAED,aAASnB,eAAT,CAAyBuB,QAAzB,EAAkC;AAC9BpB,iBAASW,aAAT,CAAuB,kBAAvB,EAA2CE,SAA3C,GAAuDO,SAASjB,GAAT,CAAa,mBAAW;AAC3E,gBAAIkB,YAAJ;AAAA,gBAAQC,WAAWxB,QAAQyB,WAA3B;AACA,gBAAGD,WAAW,KAAX,GAAmB,CAAtB,EAAwB;AACpB,oBAAIE,UAAUC,SAASH,WAAW,KAApB,CAAd;AACA,oBAAII,UAAUD,SAASH,WAAW,KAAX,GAAmB,IAA5B,CAAd;AACAD,sBAAMG,UAAU,GAAV,GAAgBE,OAAhB,GAA0B,GAAhC;AACH,aAJD,MAIM,CAEL;AACD,4KAG8C5B,QAAQU,MAHtD,mKAMoCa,GANpC,gKAWcvB,QAAQ6B,QAXtB,8CAYqB7B,QAAQH,QAAR,CAAiB,CAAjB,EAAoBiC,QAZzC,kBAY8D9B,QAAQH,QAAR,CAAiB,CAAjB,EAAoBkC,UAZlF,6CAaqB/B,QAAQH,QAAR,CAAiB,CAAjB,EAAoBiC,QAbzC,kBAa8D9B,QAAQH,QAAR,CAAiB,CAAjB,EAAoBkC,UAblF,6CAcqB/B,QAAQH,QAAR,CAAiB,CAAjB,EAAoBiC,QAdzC,kBAc8D9B,QAAQH,QAAR,CAAiB,CAAjB,EAAoBkC,UAdlF;AAkBC,SA3BkD,EA4BjDb,IA5BiD,CA4B5C,EA5B4C,CAAvD;AA6BH;AACJ,CA3FD","file":"app.js","sourcesContent":["(function(){\r\n\r\n    fetch('json/rec.json')\r\n        .then(res => res.json())\r\n        .then(render)\r\n\r\n    function render(json){\r\n        renderSlider(json.data.slider)\r\n        renderRadios(json.data.radioList)\r\n        renderPlayLists(json.data.songList)\r\n    }\r\n\r\n    fetch('json/rank.json')\r\n        .then(res => res.json())\r\n        .then(renderRank)\r\n\r\n    function renderRank(json){\r\n        renderRankLists(json.data.topList)\r\n        lazyload(document.querySelectorAll(\".lazyload\"))\r\n\r\n    }\r\n\r\n    function renderSlider(slides){\r\n        slides = slides.map(slide => ({link: slide.linkUrl, image: slide.picUrl}))\r\n        new Slider({\r\n            el: document.querySelector(\"#slider\"),\r\n            slides\r\n        })\r\n    }\r\n\r\n    function renderRadios(radios){\r\n        document.querySelector(\".radios .list\").innerHTML = radios.map(radio =>\r\n        `<div class=\"list-item\">\r\n            <a href=\"\">\r\n                <div class=\"list-media\">\r\n                    <img class=\"lazyload\" data-src=\"${radio.picUrl}\" src=\"${radio.picUrl}\" />\r\n                    <span class=\"icon icon-play\"></span>\r\n                </div>\r\n                <div class=\"info\">\r\n                    <h3 class=\"title\">${radio.Ftitle}</h3>\r\n                </div>\r\n            </a>\r\n        </div>`).join(\"\")\r\n    }\r\n\r\n    function renderPlayLists(playLists){\r\n        document.querySelector(\".playLists .songList\").innerHTML = playLists.map(playList =>\r\n            `<div class=\"list-item\">\r\n            <a href=\"\">\r\n                <div class=\"list-media\">\r\n                    <img class=\"lazyload\" data-src=\"${playList.picUrl}\" src=\"${playList.picUrl}\" />\r\n                    <span class=\"icon icon-play\"></span>\r\n                </div>\r\n                <div class=\"info\">\r\n                    <h3 class=\"title\">${playList.songListDesc}</h3>\r\n                </div>\r\n            </a>\r\n        </div>`).join(\"\")\r\n    }\r\n\r\n    function renderRankLists(topLists){\r\n        document.querySelector(\".rank-view .list\").innerHTML = topLists.map(topList => {\r\n            let num,countNum = topList.listenCount\r\n            if(countNum / 10000 > 1){\r\n                let integer = parseInt(countNum / 10000)\r\n                let decimal = parseInt(countNum % 10000 / 1000)\r\n                num = integer + '.' + decimal + 'ä¸‡'\r\n            } else{\r\n\r\n            }\r\n            return `<li class=\"list-item\">\r\n                <div class=\"img\">\r\n                    <a href=\"\">\r\n                        <img class=\"lazyload\" data-src=\"${topList.picUrl}\" />\r\n                        <span class=\"listen-count\">\r\n                            <i class=\"icon\"></i>\r\n                            <span class=\"num\">${num}</span>\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n                <div class=\"text\">\r\n                    <h3>${topList.topTitle}</h3>\r\n                    <p>1 <span>${topList.songList[0].songname}</span> - ${topList.songList[0].singername}</p>\r\n                    <p>2 <span>${topList.songList[1].songname}</span> - ${topList.songList[1].singername}</p>\r\n                    <p>3 <span>${topList.songList[2].songname}</span> - ${topList.songList[2].singername}</p>\r\n                    <i class=\"arrow\"></i>\r\n                </div>\r\n            </li>`\r\n            }\r\n            ).join(\"\")\r\n    }\r\n})()"]}